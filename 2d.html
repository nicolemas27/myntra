<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STYLE CANVAS</title>
    <link rel="stylesheet" href="2d.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="sidebar">
        <h2>Template Categories</h2>
        <div class="icon-container">
            <button class="icon-btn" onclick="loadCategory('silhouettes')">
                <img src="2dimages/Silhouettes.png" alt="Silhouettes" class="icon-image">
            </button>
            <button onclick="displayDressImages()">Dress</button>
            <div id="dress-image-container" class="image-container" style="display: none;"></div>
        </div>
        
        <div class="icon-container">
            <button class="icon-btn" onclick="loadCategory('tops')">
                <img src="2dimages/tops.png" alt="Tops" class="icon-image">
            </button>
            <span class="icon-label">Tops</span>
        </div>
        <div class="icon-container">
            <button class="icon-btn" onclick="loadCategory('necklines')">
                <img src="2dimages/necklines.png" alt="Necklines" class="icon-image">
            </button>
            <span class="icon-label">Necklines</span>
        </div>

        <!-- Bottoms Button -->
<div class="icon-container">
    <button class="icon-btn" onclick="loadCategory('bottoms')">
        <img src="2dimages/bottoms.png" alt="Bottoms" class="icon-image">
    </button>
    <button onclick="displayBottomsImages()">Bottoms</button>
    <div id="bottoms-image-container" class="image-container" style="display: none;"></div>
</div>
        <div class="icon-container">
            <button class="icon-btn" onclick="openSizeModal()">
                <i class="fas fa-ruler"></i>
            </button>
            <span class="icon-label">Sizes</span>
        </div>
    </div>
    <div class="main-content">
        <h1 class="page-title">STYLE CANVAS</h1>
        <div class="tool-bar">
            <div class="pen-container">
                <button id="pen-tool" onclick="togglePenMenu()">
                    <i class="fas fa-pencil-alt"></i>
                </button>
                <div id="pen-menu" class="pen-menu" style="display: none;">
                    <button onclick="selectPen('basic')">Basic Pen <span>(Solid)</span></button>
                    <button onclick="selectPen('soft')">Soft Pen <span>(Faded)</span></button>
                    <button onclick="selectPen('textured')">Textured Pen <span>(Pattern)</span></button>
                    <button onclick="selectPen('bold')">Bold Pen <span>(Thick)</span></button>
                    <button onclick="selectPen('dashed')">Dashed Pen <span>(Dashed)</span></button>
                </div>
            </div>
            <button id="eraser-tool" onclick="selectEraser()">
                <i class="fas fa-eraser"></i>
            </button>
            <input type="color" id="color-wheel" value="#000000" onchange="changeColor(this.value)">
            <button id="clear-canvas">Clear Canvas</button>
        </div>
        
        <div id="layers-panel"></div>
        <canvas id="canvas" width="800" height="600"></canvas>
        
        <div id="image-container" class="image-container"></div> <!-- Add this line -->
    </div>
    

    <!-- Modal for Sizes -->
    <div id="size-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSizeModal()">&times;</span>
            <h2>Choose Size Option</h2>
            <button onclick="showBodyTypes()">Body Types</button>
            <button onclick="showCustomMeasurements()">Custom Measurements</button>
            
            <!-- Body Types -->
            <div id="body-types" style="display:none;">
                <h3>Select Body Type</h3>
                <button onclick="selectBodyType('rectangle')">Rectangle</button>
                <button onclick="selectBodyType('hourglass')">Hourglass</button>
                <button onclick="selectBodyType('pear')">Pear</button>
                <button onclick="selectBodyType('apple')">Apple</button>
                <button onclick="selectBodyType('invertedTriangle')">Inverted Triangle</button>
            </div>

            <!-- Custom Measurements -->
            <div id="custom-measurements" style="display:none;">
                <h3>Enter Your Measurements</h3>
                <form id="size-form">
                    <label for="height">Height (cm):</label>
                    <input type="number" id="height" name="height" required><br>
                    <label for="chest">Chest (cm):</label>
                    <input type="number" id="chest" name="chest" required><br>
                    <label for="waist">Waist (cm):</label>
                    <input type="number" id="waist" name="waist" required><br>
                    <label for="hips">Hips (cm):</label>
                    <input type="number" id="hips" name="hips" required><br>
                    <button type="button" onclick="applyMeasurements()">Apply</button>
                </form>
            </div>
        </div>
    </div>

    <script src="2d.js"></script>
    
<div id="test-image-container" class="image-container"></div>

<script>
    const addedImages = new Set(); // To track added images

    function displayDressImages() {
        const container = document.getElementById('dress-image-container');
        const dressImages = [
            '2dimages/Silhouettes/1.png',
            '2dimages/Silhouettes/2.png',
            '2dimages/Silhouettes/5.png'
        ];

        if (container.style.display === 'none') {
            container.innerHTML = ''; // Clear previous images
            dressImages.forEach((src) => {
                const img = document.createElement('img');
                img.src = src;
                img.className = 'silhouette-image';
                img.onclick = () => addToCanvas(src);
                container.appendChild(img);
            });
            container.style.display = 'block'; // Show images
        } else {
            container.style.display = 'none'; // Collapse
        }
    }

    function displayBottomsImages() {
        const container = document.getElementById('bottoms-image-container');
        const bottomsImages = [
            '2dimages/bottoms/flare.jpg',
            '2dimages/bottoms/skirt.jpg',
            '2dimages/bottoms/skirt2.jpg',
            '2dimages/bottoms/skirt3.jpg',
            '2dimages/bottoms/cargo.jpg'
        ];

        if (container.style.display === 'none') {
            container.innerHTML = ''; // Clear previous images
            bottomsImages.forEach((src) => {
                const img = document.createElement('img');
                img.src = src;
                img.className = 'silhouette-image';
                img.onclick = () => addToCanvas(src);
                container.appendChild(img);
            });
            container.style.display = 'block'; // Show images
        } else {
            container.style.display = 'none'; // Collapse
        }
    }

    function addToCanvas(src) {
        if (!addedImages.has(src)) {
            addedImages.add(src);
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            const img = new Image();
            img.src = src;
            img.onload = () => {
                ctx.drawImage(img, 50, 50, 200, 300); // Adjust the position and size as needed
            };
        }
    }
</script>



</body>
</html>
